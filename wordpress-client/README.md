enqueue js for "global" img src (data-src) for feature detection aka server health check

- the_content - hook / filter


## Symbolic Links
```cmd
mklink /J C:\Arbeit\go-image-proxy\wordpress-client\peak2labs-image-proxy C:\Arbeit\docker\kunststoffplattenprofis.de\preumzug\wp-content\plugins\peak2labs-image-proxy

```

shortcode for avada image:
```txt
[fusion_imageframe image_id=“16943|full“ aspect_ratio=““ custom_aspect_ratio=“100″ aspect_ratio_position=““ skip_lazy_load=“skip“ lightbox=“no“ gallery_id=““ lightbox_image=““ lightbox_image_id=““ alt=““ link=“http://localhost:5555/nordachse-streetstore/“ linktarget=“_self“ hide_on_mobile=“small-visibility,medium-visibility,large-visibility“ sticky_display=“normal,sticky“ class=““ id=““ max_width=““ sticky_max_width=““ align_medium=“none“ align_small=“none“ align=“center“ mask=““ custom_mask=““ mask_size=““ mask_custom_size=““ mask_position=““ mask_custom_position=““ mask_repeat=““ style_type=““ blur=““ stylecolor=““ hue=““ saturation=““ lightness=““ alpha=““ hover_type=“none“ margin_top_medium=““ margin_right_medium=““ margin_bottom_medium=““ margin_left_medium=““ margin_top_small=““ margin_right_small=““ margin_bottom_small=““ margin_left_small=““ margin_top=““ margin_right=““ margin_bottom=““ margin_left=““ bordersize=““ bordercolor=““ borderradius=““ caption_style=“off“ caption_align_medium=“none“ caption_align_small=“none“ caption_align=“none“ caption_title_medium=““ caption_title_small=““ caption_title=““ caption_text=““ caption_title_tag=“2″ fusion_font_family_caption_title_font=““ fusion_font_variant_caption_title_font=““ caption_title_size=““ caption_title_line_height=““ caption_title_letter_spacing=““ caption_title_transform=““ caption_title_color=““ caption_background_color=““ fusion_font_family_caption_text_font=““ fusion_font_variant_caption_text_font=““ caption_text_size=““ caption_text_line_height=““ caption_text_letter_spacing=““ caption_text_transform=““ caption_text_color=““ caption_border_color=““ caption_overlay_color=““ caption_margin_top=““ caption_margin_right=““ caption_margin_bottom=““ caption_margin_left=““ animation_type=““ animation_direction=“left“ animation_speed=“0.3″ animation_offset=““ filter_hue=“0″ filter_saturation=“100″ filter_brightness=“100″ filter_contrast=“100″ filter_invert=“0″ filter_sepia=“0″ filter_opacity=“100″ filter_blur=“0″ filter_hue_hover=“0″ filter_saturation_hover=“100″ filter_brightness_hover=“100″ filter_contrast_hover=“100″ filter_invert_hover=“0″ filter_sepia_hover=“0″ filter_opacity_hover=“100″ filter_blur_hover=“0″]http://localhost:5555/wp-content/uploads/2023/11/Streetstore_Banner_call2action-tiny.jpg[/fusion_imageframe]
```


```php

add_filter('wp_get_attachment_url', function ($url) {
    // Check if the URL is an image URL
    if (strpos($url, '.png')!== false || strpos($url, '.jpg')!== false || strpos($url, '.jpeg')!== false || strpos($url, '.gif')!== false) {
        // Replace the URL with your desired URL
        return str_replace(WP_HOME, 'https://www.example.com', $url);
    }
    return $url; // Return the original URL if it's not an image
});

# in fusion-builder/shortcodes/fusion-image.php in render function
return apply_filters( 'fusion_element_image_content', $html, $args );

```

example output
```html
<div class="imageframe-align-center"><span class=" fusion-imageframe imageframe-dropshadow imageframe-39 hover-type-none" style="-webkit-box-shadow: 0px 0px 4px rgba(0,0,0,0.3);box-shadow: 0px 0px 4px rgba(0,0,0,0.3);"><img width="800" height="400" alt="Trespa" title="ka4463" src="http://localhost:3333/wp-content/uploads/2023/03/ka4463.png" class="img-responsive wp-image-35251" srcset="http://localhost:3333/wp-content/uploads/2023/03/ka4463-200x100.png 200w, http://localhost:3333/wp-content/uploads/2023/03/ka4463-400x200.png 400w, http://localhost:3333/wp-content/uploads/2023/03/ka4463-600x300.png 600w, http://localhost:3333/wp-content/uploads/2023/03/ka4463.png 800w" sizes="(max-width: 800px) 100vw, 600px" />
```
---
To extract the image src attribute from the HTML content generated by Avada's shortcodes, you can follow these steps:

Convert Shortcodes to HTML: First, ensure that the shortcodes are converted to HTML. This process is typically handled by WordPress itself when rendering posts or pages. However, if you're working with custom content or need to manually convert shortcodes, you might need to use functions like do_shortcode() or apply_filters('the_content', $content) to process the shortcodes.
Extract Image src Attributes: Once you have the HTML content, you can use PHP to parse the HTML and extract the src attributes of <img> tags. This can be done using DOMDocument, a built-in PHP class for parsing and manipulating HTML documents.
Here's a step-by-step example of how you could implement this:

// Assuming $htmlContent contains the HTML string generated by Avada's shortcodes
$htmlContent = do_shortcode('[your_shortcode_here]'); // Replace [your_shortcode_here] with actual shortcode

// Create a new instance of DOMDocument
$dom = new DOMDocument;

// Load the HTML content into the DOMDocument object
@$dom->loadHTML($htmlContent);

// Find all <img> elements in the document
$images = $dom->getElementsByTagName('img');

// Loop through each <img> element and print the src attribute
foreach ($images as $image) {
    echo $image->getAttribute('src'). "\n";
}
This script does the following:

Converts the shortcode to HTML using do_shortcode().
Loads the HTML content into a DOMDocument object.
Finds all <img> elements in the document.
Iterates over each <img> element and prints its src attribute.
Please note:

The @ symbol before $dom->loadHTML($htmlContent) is used to suppress warnings about invalid HTML. It's generally better to ensure your HTML is valid, but this can be useful for quick testing or when dealing with content that might not be perfectly formatted.
This approach assumes that the shortcode you're converting to HTML will result in <img> tags. If your shortcode generates other types of content, you may need to adjust the code to target the specific elements you're interested in.
Remember to replace [your_shortcode_here] with the actual shortcode you're working with.

